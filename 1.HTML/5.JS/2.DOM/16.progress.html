<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>progress bar</title>
    <style>
        input{
            width:200px;
        }
        #progressBar{
            width:100%;
            background-color: #f3f3f3;
        }
        #progress{
            width:0%;
            height:30px;
            background-color:#4caf50;
        }
    </style>
</head>
<body>
    <h1>프로그래스 바 타이머</h1>
    <input id="seconds" type="number" placeholder="초를 입력하세요" min="2" max="10"/>
    <button id="startButton" onclick="start()">시작</button>
    <button id="resetButton" onclick="reset()">초기화</button>
    <div id="progressBar">
        <div id="progress"></div>
    </div>
</body>
<script>
    const startButton = document.getElementById("startButton");
    const progress = document.getElementById("progress");
    const inputSeconds = document.getElementById("seconds");
    let timeInterval;

    function start(){
        let mok = 100/inputSeconds.value
        let passTime = 1;

        timeInterval = setInterval(()=>{
            progress.style.width = mok * passTime + '%';
            //포맷팅을 통한 새로운 스타일
            progress.style.width = `${mok * passTime} %`;

            console.log(progress.style.width);
            console.log(passTime);

            passTime += 1;

            let width = progress.style.width;
            let widthWithoutPercent = width.slice(0,width.length-1);
            console.log(widthWithoutPercent);
            if (Number(widthWithoutPercent) >= 100){
                clearInterval(timeInterval);
            }
        },1000)
    }

    function reset(){
        clearInterval(timeInterval);
         progress.style.width = '0%';
    }
    



</script>
</html>